---
import { execSync } from 'node:child_process'
import { getPageCopy } from '../../i18n/pages'
import Layout from '../../layouts/Layout.astro'
import type { Lang } from '../../i18n/utils'

interface Props {
  lang: Lang
}

const { lang } = Astro.props
const copy = getPageCopy('about', lang)

const gitCommitSha = execSync('git rev-parse --short HEAD').toString().trim()
const buildDate = new Date().toISOString().split('T')[0]
---

<Layout title={copy.title} description={copy.description}>
  <main class="flex flex-1 justify-center px-6 py-16 md:px-12">
    <article class="max-w-xl w-full space-y-10">
      <header class="fade-in-up animate-delay-80">
        <h1 class="text-3xl text-stone-900 font-700 tracking-tight font-serif md:text-4xl dark:text-white">
          {copy.heading}
        </h1>
      </header>

      <section class="fade-in-up animate-delay-160 text-stone-600 leading-relaxed space-y-4 dark:text-stone-400">
        {copy.paragraphs.map((paragraph) => <p>{paragraph}</p>)}
      </section>

      <footer class="fade-in-up animate-delay-240 text-sm text-stone-400 dark:text-stone-600">
        <p>
          Built from <a
            href={`https://github.com/sxzz/sxzz.dev/commit/${gitCommitSha}`}
            target="_blank"
            rel="noopener noreferrer"
            class="font-mono hover:underline"
          >{gitCommitSha}</a> on {buildDate}
        </p>
      </footer>
    </article>
  </main>
</Layout>
